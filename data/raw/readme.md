# raw_data 数据说明

## 目录概览
- 该目录存放因子管线尚未加工的原始 Excel，后续由 `code/B_data_prepare.py` 读取后写入 `data/processed/`。
- 表格首行通常保存中文列名，第二行给出单位或备注，第三行才进入正式数据；保持这一格式可让脚本自动识别字段。

| 文件 | 作用 | 主要内容 |
| --- | --- | --- |
| `基础数据.xlsx` | 基础因子原始面板 | 市场无风险利率、规模、账面市值比、盈利、投资五个子表，各自包含英文字段名与中文/单位对照。 |
| `行情序列后复权.xlsx` | 代表性股票的周频后复权行情 | 8 个工作表（Sheet1–8），每个对应一只科创板/沪市股票的周线，用于验证行情处理逻辑。 |

## `基础数据.xlsx`
- 每个工作表=一个因子维度；列名保持 Wind/CSMAR 风格，首行/次行提供中文和单位，便于人工核对。
- 若补充新股票或财务口径，建议追加行，不要改动既有列名，否则 `code/B_data_prepare.py` 的列映射会失败。

### 市场因子（Sheet: `市场因子`）
| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `ChangeDate` | 变动日期 | 日期字符串，YYYY-MM-DD |
| `LumpFixed3Month` | 定期存款：整存整取：三个月 (%)，作为无风险利率序列 | 百分数，按公告日生效 |

### 规模因子（Sheet: `规模因子`）
| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `Stkcd` | 证券代码 | Wind/CSMAR 代码（如 688001） |
| `Trdwnt` | 交易周份 | `YYYY-WW` 周序号 |
| `Wopnprc` | 周开盘价 | 元/股 |
| `Wclsprc` | 周收盘价 | 元/股 |
| `Wnshrtrd` | 周个股交易股数 | 股 |
| `Wsmvttl` | 周个股总市值 | 千元 |
| `Wretwd` | 周回报（含现金红利） | 无单位（小数） |

### 账面市值比因子（Sheet: `账面市值比因子`）
| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `Stkcd` | 证券代码 | 与规模因子一致 |
| `ShortName` | 证券简称 | 中文简称 |
| `Accper` | 统计截止日期 | 财报截止日期，含时间戳 |
| `Typrep` | 报表类型 | A=合并报、B=母公司报等 |
| `A003000000` | 所有者权益合计 | 元 |

### 盈利因子（Sheet: `盈利因子`）
| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `Stkcd` | 证券代码 |  |
| `Annodt` | 公告日期 |  |
| `Accper` | 统计截止日期 |  |
| `Sign` | 行为标识 | Wind/CSMAR 口径（如 2=修订） |
| `Adtsgn` | 审计标识 | 1=审计，2=未审计 |
| `B130101` | 营业利润 | 元 |

### 投资因子（Sheet: `投资因子`）
| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `Stkcd` | 股票代码 |  |
| `ShortName` | 股票简称 |  |
| `Accper` | 统计截止日期 |  |
| `Typrep` | 报表类型编码 |  |
| `Source` | 公告来源 | Wind/CSMAR 字典值 |
| `F080601A` | 总资产增长率 A | 同比增速（小数） |
| `F080602A` | 总资产增长率 B | 同比增速（小数） |
| `F080603A` | 总资产增长率 C | 同比增速（小数） |

## `行情序列后复权.xlsx`
- 共 8 个工作表（Sheet1–Sheet8）。每个 sheet 对应一只股票（例如 Sheet1=688001.SH 华兴源创、Sheet2=688102.SH 斯瑞新材等），都遵循相同字段。
- 数据为周频后复权价量，周总市值便于后续构造规模分位或校验收益。
- 若新增股票，可复制任意 sheet，更新代码/简称及周序列，保持列名不变。

| 列名 | 中文含义 | 单位/备注 |
| --- | --- | --- |
| `代码` | Wind 代码（含交易所后缀） | 例如 688001.SH |
| `简称` | 股票简称 |  |
| `时间` | 周末日期 | YYYY-MM-DD |
| `周开盘价(元)` | 周度开盘价 | 元/股 |
| `周最高价(元)` | 周内最高价 | 元/股 |
| `周收盘价(元)` | 周度收盘价（后复权） | 元/股 |
| `周最低价(元)` | 周内最低价 | 元/股 |
| `周成交量(万股)` | 周成交量 | 万股 |
| `周总市值(万元)` | 周末总市值 | 万元，按后复权股本估算 |

## 维护建议
- 保留中文说明行，方便校验，同时也可被手动校正脚本读取。
- 新数据最好沿用既有列名/单位，如果必须新增字段，请同步更新处理脚本中的列映射与文档。
- 压缩包或 CSV 版本请不要直接放入此目录，以免干扰批处理脚本的 `*.xlsx` 匹配。
